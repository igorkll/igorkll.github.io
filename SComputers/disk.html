<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>SComputers - Api Reference</title>
        <link rel="icon" href="favicon.ico">
        <link rel="stylesheet" href="style.css">
        <link href="highlight.css" rel="stylesheet">
        <script src="highlight.js"></script>
        <script>
			hljs.highlightAll();
		</script>
    </head>
    <body>
        <p class="text">
            the disk allows you to save folders and files<br/>
            it has a full-fledged file system<br/>
            the file system in the original ScriptableComputer had A LOT OF BUGS. however, all of them have been fixed in SComputers<br/>
            SComputers disks have a very small volume for a reason. the fact is that if you write too much data to blueprint, it will stop spawn<br/>
            you can use the <a href="addons.html#world_disks" class="hyper">"world disks"</a> addon, it saves data to the world and not to the blueprint. in this case, you can save a lot more data.<br/>
            there is a computer with a built-in disk. its embedded disk is always identified under the first ID in the disk component table. the connected external drive will already be the second one<br/>
            please note that this filesystem allows a folder and a file with the same name to exist<br/>
            if you need to transfer a large amount of data along with your creation to the steam workshop, you can use a <a href="rom.html" class="hyper">"ROM disk"</a><br/>
            you can use the <a class="hyper" href="./vfs.html">vfs</a> library to mount multiple disks into a single virtual filesystem<br/>
            component name - disk
        </p>

        <p class="text">methods:</p>
        <ul class="list">
            <li><span>disk.clear() - clears the disk</span></li>
            <li><span>disk.getUsedSize():number - reads how much space is used on the disk in bytes</span></li>
            <li><span>disk.getMaxSize():number - returns the maximum amount of data that can be written to disk in bytes</span></li>
            <li><span>disk.isReadOnly():boolean - returns whether the filesystem is read-only. it is always false at the moment if we are talking about a general disk</span></li>
            <br/>
            <li><span>disk.getData():string - reads a line from a .fastsave file, if there is no such file yet, returns an empty line</span></li>
            <li><span>disk.setData(string) - saves a string to a .fastsave file</span></li>
            <li><span>disk.getTable():table - tries to deserialize a row from disk.getData as a table, if this fails, it will return an empty table</span></li>
            <li><span>disk.setTable(table) - writes a serialized table to disk.setData</span></li>
            <br/>
            <li><span>disk.openFolder(path) - changes the currently selected folder. if the path starts with /, then the folder relative to the root is selected. if without / then relative to the current folder. ".." is also supported</span></li>
            <li><span>disk.getCurrentPath():string - returns the path to the currently selected folder</span></li>
            <li><span>disk.createFile(path) - creates a file, if the file has already been created, it will throw an exception</span></li>
            <li><span>disk.createFolder(path) - creates a directory with the specified name. if it already exists, it throws an exception</span></li>
            <li><span>disk.deleteFile(path) - deletes the file if the file does not exist throws an exception</span></li>
            <li><span>disk.deleteFolder(path) - deletes the directory if the file does not exist throws an exception</span></li>
            <li><span>disk.writeFile(path, string) - writes a file, throws an exception if the file does not exist</span></li>
            <li><span>disk.readFile(path):string - reads the file. if the file does not exist, it throws an exception</span></li>
            <li><span>disk.hasFile(path):boolean - checks if a file with the specified name exists</span></li>
            <li><span>disk.hasFolder(path):boolean - checks if a directory with the specified name exists</span></li>
            <li><span>disk.getFileSize(path):number - reads the file size in bytes. takes into account the length of the file name</span></li>
            <li><span>disk.getFolderSize(path):number - recursively reads how much space a folder takes up, taking into account all the names and contents of all files</span></li>
            <li><span>disk.getFileList(path):table - returns a list of files in the current directory</span></li>
            <li><span>disk.getFolderList(path):table - returns a list of directories in the current directory</span></li>
        </ul>
    
        <script src="main.js"></script>
    </body>
</html>