<h1 style="font-size: 32px; font-weight: bold; margin: 11px 0;">betterAPI - extended lua api for scrap mechanic</h1><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">description</h2><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">this API adds additional methods to the game.<br>however, it does not provide full access to the lua API.<br>this mod implements methods such as "loadstring" and "loadfile", however, bytecode loading is not available and the transfer of the user's ENV is mandatory.<br>this mod contains DLM files and is fully backward compatible with DLM.<br>if someone has found a vulnerability here, PLEASE let me know.<br>vulnerability is considered to be any opportunity to execute arbitrary code, as well as to use the file system outside the "BetterFS" directory and game mods.<br>my plans are to implement a framework for creating screens and integrate with the browser and "Visual Studio Code".<br>In the future, this mod should replace DLM.<br>also, some future functions may require permission from the user (for example, sound capture from a microphone or internet access).<br>betterAPI is also able to speed up the execution of lua code in the game, as it uses a newer version of luajit.  </p><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">safety</h2><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">to use most of the betterAPI methods, you need to get permission to use betterAPI.<br>this is done so that once you find a vulnerability, you can't just take and make a virus.<br>if you want to use betterAPI locally, then you can add your mod to the whitelist yourself.<br>after you post the mod on steam, you should contact me in the comments on betterAPI or discord so that I add your mod to the betterAPI whitelist.<br>after that, your mod will be guaranteed to be added to the betterAPI whitelist.<br>however, I will not add you access to the entire betterAPI. you will only get access to the functions you use.<br>i have the right to refuse to grant you access to certain parts of betterAPI if I consider that you do not need them to solve your problem.<br>some of the APIs in betterAPI (those that cannot be used for evil purposes) are public and do not require adding mods to the whitelist. study the documentation to understand what is available to you.  </p><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">installation</h2><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">after installation, the mod will receive and install updates itself.<br>installation on Windows (select the drive letter where you have the game installed):  </p><ol style="padding-left: 24px; list-style-type: decimal;"><li style="margin: 8px 0;">close scrap mechanic</li><li style="margin: 8px 0;">subscribe to the mod in the steam workshop: <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=3177944610" title="" style="color: #0366d6; text-decoration: none;">https://steamcommunity.com/sharedfiles/filedetails/?id=3177944610</a></li><li style="margin: 8px 0;">open folder: C:\Program Files (x86)\Steam\steamapps\workshop\content\387990\3177944610\content</li><li style="margin: 8px 0;">copy all files</li><li style="margin: 8px 0;">open folder: C:\Program Files (x86)\Steam\steamapps\common\Scrap Mechanic\Release</li><li style="margin: 8px 0;">insert all the files with the replacement</li></ol><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">chat commands</h2><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">/revoke - takes away access from all scripts to all APIs that require user confirmation for use</li></ul><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">extensions</h2><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">betterAPI supports extensions that can extend the functionality of the betterAPI itself and the game.<br>extensions cannot be distributed through the workshop because they do not work in the sandbox.<br>the extension must be placed in the "Scrap Mechanic/Release/BetterExtensions" folder.<br>DLL mods like "BetterPaintTool" work if you put them in the "BetterExtensions" directory.<br>the extension can be just a lua file, dll, directory, or bext file.<br>the file in the bext format is an extension format for betterAPI. in fact, this is a zip archive containing all the extension files.<br>the extension in the bext format will be automatically unpacked into BetterCache, and will be treated as an extension folder.<br>the following files may be in the extension folder: extension.lua, extension.dll<br>the extension may also contain other files (at the discretion of the developer)<br>an extension in lua format or a extension.lua file from the folder extension receives the "better" table available for the extension as an argument.<br>the extension can add new APIs to the "better" table, these APIs will be available to mods.<br>if the lua extension file was loaded from the extension folder, then as the second argument it will get the full path to the extension folder, which can be used to load other extension files.<br>DLL extensions or the extension.dll file from the folder extension are injected into the game process, which will allow you to modify the gameplay.<br>betterAPI extensions can use the internal betterAPI API. which is not available during normal use from mods.<br>please note that all extensions only work when entering the world and are unloaded when exiting it!<br>the folder with your extension is automatically added to package.path and package.cpath so that you can upload your lua and dll files using require.<br>make sure that the name of your files is unique to avoid conflicts with other extensions!  </p><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">asynchronous</h2><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">all asynchronous functions in the mod work as follows:<br>they return a lambda(function) that needs to be called until it returns the result</p><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">registration</h2><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">first you need to get into the white list of betterAPI mods, to do this, contact me on steam or discord<br>for debugging, you can add your mod there yourself. the file with the white list of mods is called modsWhitelist.json<br>in general, I am ready to add anyone to this whitelist who will not use betterAPI for bad purposes<br>before using the better api, you need to register your mod in betterapi<br>to do this, call the better.registration method (it won't be a big deal if you call it several times in a row, subsequent calls will simply be ignored (for example, each time the block is installed))  </p><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">example:</p><pre style="background-color: #f6f8fa; padding: 10px; border-radius: 4px; overflow: auto; margin: 16px 0;"><code style="font-family: Consolas, 'Courier New', monospace; font-size: 14px; color: #24292e; background-color: unset;" class="hljs lua language-lua"><span class="hljs-comment">--please note that the third argument is the FOLDER name of your mod (it may differ from the name of the mod on steam)</span>
better.registration(<span class="hljs-string">"dcf0ddb5-5585-4e10-8302-7dc58b2aba50"</span>, <span class="hljs-string">"1234567890"</span>, <span class="hljs-string">"testmod"</span>)</code></pre><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">or</p><pre style="background-color: #f6f8fa; padding: 10px; border-radius: 4px; overflow: auto; margin: 16px 0;"><code style="font-family: Consolas, 'Courier New', monospace; font-size: 14px; color: #24292e; background-color: unset;" class="hljs lua language-lua"><span class="hljs-comment">--in this case, the function will read the missing parameters by itself</span>
better.registration(<span class="hljs-string">"testmod"</span>)</code></pre><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">or</p><pre style="background-color: #f6f8fa; padding: 10px; border-radius: 4px; overflow: auto; margin: 16px 0;"><code style="font-family: Consolas, 'Courier New', monospace; font-size: 14px; color: #24292e; background-color: unset;" class="hljs lua language-lua"><span class="hljs-comment">--it only works if the name of your mod and its directory are the same</span>
<span class="hljs-comment">--it will be the same if you created your mod through mod tool and did not change the name</span>
better.registration()</code></pre><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">filesystem</h2><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">the paths in mod work like this: <code style="background-color: unset; padding: 2px 4px; border-radius: 3px; font-family: Consolas, 'Courier New', monospace; font-size: 14px; color: #24292e;">$CONTENT_MODUUID/Scripts/test.lua</code><br>you cannot use <code style="background-color: unset; padding: 2px 4px; border-radius: 3px; font-family: Consolas, 'Courier New', monospace; font-size: 14px; color: #24292e;">$CONTENT_DATA</code><br>so the best solution would be to declare a variable with the UUID of the mod in your mod and access the files like this:  </p><pre style="background-color: #f6f8fa; padding: 10px; border-radius: 4px; overflow: auto; margin: 16px 0;"><code style="font-family: Consolas, 'Courier New', monospace; font-size: 14px; color: #24292e; background-color: unset;" class="hljs lua language-lua"><span class="hljs-keyword">local</span> selfuuid = <span class="hljs-string">"dcf0ddb5-5585-4e10-8302-7dc58b2aba50"</span>
better.<span class="hljs-built_in">loadfile</span>(<span class="hljs-string">"$CONTENT_"</span> .. selfuuid .. <span class="hljs-string">"/Scripts/test.lua"</span>, <span class="hljs-literal">nil</span>, <span class="hljs-built_in">_G</span>)</code></pre><p style="margin: 16px 0; line-height: 1.6; color: #24292e;">if you start the path with "/" then you will be accessing the isolated betterAPI filesystem.<br>the better API file system allows you to save any files in any format, delete them, rename them, and do WHATEVER you want with them.<br>however, you cannot execute files (so the file system remains secure).<br>the betterAPI file system is restricted in the <code style="background-color: unset; padding: 2px 4px; border-radius: 3px; font-family: Consolas, 'Courier New', monospace; font-size: 14px; color: #24292e;">AppData\Roaming\Axolot Games\Scrap Mechanic\User\User_steamid\BetterFS</code> directory.<br>all files in this file system are available to any mods using betterAPI and the user.<br>please note that when using "better.filesystem" only the paths in the betterAPI filesystem are available to you<br>(that is, the paths of <code style="background-color: unset; padding: 2px 4px; border-radius: 3px; font-family: Consolas, 'Courier New', monospace; font-size: 14px; color: #24292e;">$CONTENT_UUID</code> are not available) this is done to prevent overwriting scripts of other mods<br>(readFile/exists/isDirectory/list exceptions, they can use the paths $CONTENT_UUID).  </p><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">notes</h2><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">note that the debug library in the better api is severely restricted (restrictions are identical to opencomputers)</li><li style="margin: 8px 0;">the default volume of the audio API is set to 0 percent!! don't forget to increase it: audioObject:setVolume(0.5)</li></ul><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">thread environment</h2><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">_G - link to your environment</li><li style="margin: 8px 0;">type</li><li style="margin: 8px 0;">assert</li><li style="margin: 8px 0;">error</li><li style="margin: 8px 0;">ipairs</li><li style="margin: 8px 0;">next</li><li style="margin: 8px 0;">pairs</li><li style="margin: 8px 0;">pcall</li><li style="margin: 8px 0;">select</li><li style="margin: 8px 0;">tonumber</li><li style="margin: 8px 0;">tostring</li><li style="margin: 8px 0;">unpack</li><li style="margin: 8px 0;">xpcall</li><li style="margin: 8px 0;">setmetatable</li><li style="margin: 8px 0;">getmetatable</li><li style="margin: 8px 0;">loadstring(chunk:string, chunkname:string, env:table):function, error - loads the code of their string. the ENV argument is required. does not load bytecode</li><li style="margin: 8px 0;">coroutine (full library)</li><li style="margin: 8px 0;">string (full library)</li><li style="margin: 8px 0;">table (full library)</li><li style="margin: 8px 0;">math (full library)</li><li style="margin: 8px 0;">bit (full library)</li><li style="margin: 8px 0;">os {clock = os.clock, difftime = os.difftime, time = os.time, date = os.date} does not have access to os.execute and other dangerous</li><li style="margin: 8px 0;">threadTunnelSet(index:number, value:string|number|boolean|nil) - writes the value to the tunnel table of the thread</li><li style="margin: 8px 0;">threadTunnelGet(index:number):value - reads the value from the tunnel table of the thread</li><li style="margin: 8px 0;">sleep(time in milliseconds:number) - stops the thread for the specified time</li><li style="margin: 8px 0;">fast() - theoretically, it should speed up code execution in a thread. an analog of better.fast</li></ul><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">api</h2><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">main</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.version - the number with the betterAPI version</li><li style="margin: 8px 0;">better.isAvailable():boolean - returns true if your mod has the right to use betterAPI</li><li style="margin: 8px 0;">better.registration(uuid, steamid, foldername):uuid, steamid, foldername - registers your mod in the better api for paths to work</li><li style="margin: 8px 0;">better.registration(foldername:string|nil):uuid, steamid, foldername - this method registers the mod automatically (reads the parameters itself) you only need to specify the name of the folder with your mod. also, the parameters that this function reads, it returns in the form of strings. if the name of your mod and its directory match, then you can omit the foldername parameter</li><li style="margin: 8px 0;">better.tick() - it must be called at least once per tick on client and server. it's okay if you call it more often (you can just put the call in client_onFixedUpdate and server_onFixedUpdate)</li><li style="margin: 8px 0;">better.fast():boolean - enables additional luajit optimizations, returns true if it was possible to do it now or earlier. It applies to all scripts in the game</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">functions</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.getSteamID():string - returns the steam user ID as a string, if for some reason it was not possible to get the SteamID, it will return nil</li><li style="margin: 8px 0;">better.loadstring(chunk, chunkname, env):code,err - loads the code from the string. does not load bytecode. also, the transfer of your ENV is mandatory</li><li style="margin: 8px 0;">better.loadfile(path, env):code,err - load the code from a file. does not load bytecode. also, the transfer of your ENV is mandatory</li><li style="margin: 8px 0;">better.setmetatable - control of metatables from lua</li><li style="margin: 8px 0;">better.getmetatable - control of metatables from lua</li><li style="margin: 8px 0;">better.date - the os.date function, which for some reason was deprived of the game</li><li style="margin: 8px 0;">better.textEditor_txt(text):function(delete:boolean):text - opens the visual studio code that is installed for the extension .txt with your text, returns a function that returns the current state of the text file. pass true to the function to delete the file</li><li style="margin: 8px 0;">better.textEditor_lua(text):function(delete:boolean):text - opens the visual studio code that is installed for the extension .lua with your text, returns a function that returns the current state of the text file. pass true to the function to delete the file</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">filesystem api (restricted by the BetterFS directory)</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.filesystem.show(pathOrNil):boolean - opens a folder from better FS in the user's explorer</li><li style="margin: 8px 0;">better.filesystem.readFile(path):content,err - reads a file from the betterAPI filesystem</li><li style="margin: 8px 0;">better.filesystem.writeFile(path, content):ok,err - writes a file to the betterAPI file system</li><li style="margin: 8px 0;">better.filesystem.makeDirectory(path):boolean - creates a directory</li><li style="margin: 8px 0;">better.filesystem.isDirectory(path):boolean - checks whether the object is a directory</li><li style="margin: 8px 0;">better.filesystem.exists(path):boolean - checks if the object exists</li><li style="margin: 8px 0;">better.filesystem.list(path):tbl - retrieves a list of files and folders by a specific path</li><li style="margin: 8px 0;">better.filesystem.rename(fromPath, toPath):boolean - renames a folder or file</li><li style="margin: 8px 0;">better.filesystem.remove(path):boolean - deletes a folder or file</li><li style="margin: 8px 0;">better.filesystem.copy(fromPath, toPath):boolean - copy a folder or file</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">coroutine api</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.nativeCoroutine - native coroutine, if you call the API methods of the game from it, then the game crashes</li><li style="margin: 8px 0;">better.coroutine - this is lua coroutine, but it has been changed so that the game api methods work fine from it (currently it does not work with the game API and crashes the game. when will I be able to fix this without wild performance losses, fixed=true will appear in this table)</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">debug api (restricted)</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.debug.traceback - full-fledged debug.traceback</li><li style="margin: 8px 0;">better.debug.getinfo - gives incomplete information</li><li style="margin: 8px 0;">better.debug.getlocal - provides only the variable name (not the variable itself)</li><li style="margin: 8px 0;">better.debug.getupvalue - provides only the variable name (not the variable itself)</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">audio api</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.audio.createFromFile(path:string):audioObject - creates an audio object from a file</li><li style="margin: 8px 0;">better.audio.createFromUrl(path:string):audioObject - creates an audio object from a url</li><li style="margin: 8px 0;">better.audio.createFromString(binstr:string):audioObject - loads an audio file from RAM (for example mp3 or wav) automatically detects the format</li><li style="margin: 8px 0;">better.audio.createFromPcm(pcmContent:string, sampleRate:number|nil(8000), byteRate:number|nil(1), channelsCount:number|nil(1)):audioObject - loads audio from a PCM fragment</li><li style="margin: 8px 0;">better.audio.destroy(audioObject) - destroys the audio object</li><li style="margin: 8px 0;">better.audio.stop(audioObject) - stop the sound</li><li style="margin: 8px 0;">better.audio.start(audioObject) - start the sound</li><li style="margin: 8px 0;">better.audio.pause(audioObject) - pause the sound</li><li style="margin: 8px 0;">better.audio.setVolume(audioObject, volume) - sets the volume (0 - math.huge)</li><li style="margin: 8px 0;">better.audio.setBalance(audioObject, balance) - sets the channels balance (-1 - 1)</li><li style="margin: 8px 0;">better.audio.setRate(audioObject, rate) - sets the rate (0 - math.huge) (It works as a speed setting that does not distort the tone)</li><li style="margin: 8px 0;">better.audio.setPitch(audioObject, pitch) - sets the pitch (-60....0....+60 semitones) (changes the pitch without changing the speed)</li><li style="margin: 8px 0;">better.audio.setSpeed(audioObject, speed) - sets the speed (0 - math.huge) (it changes both pitch and speed)</li><li style="margin: 8px 0;">better.audio.setLoop(audioObject, state) - enables or disables loop playback (default: false)</li><li style="margin: 8px 0;">better.audio.setPosition(audioObject, second) - starts the playback from a certain point</li><li style="margin: 8px 0;">better.audio.seek(audioObject, seconds) - rewinds the track</li><li style="margin: 8px 0;">better.audio.updateSpatialSound(earpos:vec3, speaker's {{pos:vec3, dist:number}}, eardir:vec3) - updates spatial sound variables (for spatial sound, it is better to use mono recordings)</li><li style="margin: 8px 0;">better.audio.noSpatialSound() - turns off spatial sound</li><li style="margin: 8px 0;">better.audio.getState():number - 0 - stopped, 1 - playing, 2 - paused</li><li style="margin: 8px 0;">better.audio.getPosition():number - returns the current position in the track</li><li style="margin: 8px 0;">better.audio.getLength():number - returns the length of the track in seconds</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">mouse api</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.mouse.isLeft():boolean</li><li style="margin: 8px 0;">better.mouse.isRight():boolean</li><li style="margin: 8px 0;">better.mouse.isCenter():boolean</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">keyboard api</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.keyboard.keys - keys table</li><li style="margin: 8px 0;">better.keyboard.isKey(keycode):boolean</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">openAI api</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.openAI.textRequest(apikey:string|nil, model:string|nil(default: gpt-3.5-turbo), prompt:string, request:string):asyncfunction():string - sends a text request to openAI over the internet. if you have not specified a token, then duckAI will be used, iIn such cases, the GPT_4_MINI model will always be used</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">thread api</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.thread.new(code:string):threadObj - creates a thread. after creating the object, call result from time to time, if you get true, then thread execution is terminated, if the second argument exists, then this is an error string. after the end of the thread, BE SURE to call thread:free() to free up the memory allocated for the thread. streams DO NOT HAVE ACCESS TO THE BETTER API OR THE GAME API. you have to pass the data through the tunnel</li><li style="margin: 8px 0;">better.thread.threadTunnelSet(threadObj, index:number, value:string|number|boolean|nil) - writes the value to the tunnel table of the thread. so that in the future it can be read from the thread using threadTunnelGet</li><li style="margin: 8px 0;">better.thread.threadTunnelGet(threadObj, index:number):value - reads the value from the tunnel table of the thread. the thread can write data there via threadTunnelSet. you can still read values from here after the thread is finished, but before calling thread:free()</li><li style="margin: 8px 0;">better.thread.result():end:boolean, err:string - returns true if the thread was completed, and the error text if it ended with an error. after receiving the execution result, you still have access to the data from the tunnel, after you have received the result, call thread:free() to free the memory</li><li style="margin: 8px 0;">better.thread.free(threadObj):boolean - free the memory that was occupied by the thread. you should call this after thread:result() returns true. you can't call this while the thread is running, you need to wait for it to finish. returns true if it was possible to make free, returns false if thread is still active and free failed</li><li style="margin: 8px 0;">better.thread.kill(threadObj) - stops the task right now, calls thread:free() itself</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">videoCapture api (client API) (confirmation from the user is required)</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.videoCapture.trigger(shapeClass, callback(self, key):string) - if you want your block to act as a screen capture, put this at the end of your script. when the user presses E, this function will call your callback with the API access key. the access key will be revoked immediately as soon as this block is destroy!</li><li style="margin: 8px 0;">better.videoCapture.isAvailable(key):boolean - returns true if your API access key is valid</li><li style="margin: 8px 0;">better.videoCapture.getSize(key):width, height - returns the size of the captured area</li><li style="margin: 8px 0;">better.videoCapture.cancel(key) - revokes access</li><li style="margin: 8px 0;">better.videoCapture.capture(key, width, height, x, y, sizeX, sizeY):table - captures an image from a user-selected source. first, the resolution of the source you want to work with is transmitted, followed by the position and size of the area in this resolution. the output table is one-dimensional, and the pixels in it are arranged from top-bottom/left-right. the color format is 0xRRGGBB</li><li style="margin: 8px 0;">better.videoCapture.isControlAvailable(key):boolean - returns true if the user has allowed the captured area to be control (the control API has not been implemented yet)</li><li style="margin: 8px 0;">better.videoCapture.touch(apikey, width, height, x, y, action:(press, drop, drag), button:(1, 2)) - simulates mouse input in the capture field. first, the virtual resolution of the captured area is transmitted. it only works if the user has given permission to control</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">tts api</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.tts.textToSpeech(text:string):audioObject - makes tts for further playback via audio API</li></ul><h4 style="font-size: 16px; font-weight: bold; margin: 18px 0;">algorithm api (public API. it is available to all mods and does not require to be added to the betterAPI whitelist)</h4><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">better.algorithm.base64_encode(string):string - converts text to a base64 string</li><li style="margin: 8px 0;">better.algorithm.base64_decode(string):string - converts a base64 string to a text string</li><li style="margin: 8px 0;">better.algorithm.sha256_text(string):string - converts a string to sha256 in text format</li><li style="margin: 8px 0;">better.algorithm.sha256_binary(string):string - converts a string to binary sha256</li><li style="margin: 8px 0;">better.algorithm.sha256_file_text(path:string):string - return the file's checksum. to use it, you need to have access to the "filesystem" API</li><li style="margin: 8px 0;">better.algorithm.sha256_file_binary(path:string):string - return the file's checksum. to use it, you need to have access to the "filesystem" API</li></ul><h2 style="font-size: 24px; font-weight: bold; margin: 12px 0;">internal api (available only for betterAPI extensions)</h2><ul style="padding-left: 24px; list-style-type: disc;"><li style="margin: 8px 0;">bext.loadDLL(path) - injects a DLL into the game process</li><li style="margin: 8px 0;">bext.modCheck(...) - this method should be called at the beginning of each function that the extension exports to betterAPI and makes available to mods. as arguments, pass all the additional API permissions that the mod must have in order to use this feature. for example: bext.modCheck("audio", "http"). if you place this at the beginning of your function, the mod will need to have access to both audio and http in order to invoke your function</li><li style="margin: 8px 0;">bext.modCheckEx(mods:table, ...) - this function is similar to bext.modCheck. except that it accepts a table with additional mods that should have access to your function. the structure of the table is identical to the one presented in the "modsWhitelist.json" file in betterAPI. please note that the mods table can only contain tables, each of which is a list of description requirements.json in a defiant mod. the mod must satisfy at least one of these tables, all keys in these tables will be compared with the same ones in the description.json and if at least one does not match, then it is assumed that the description.json does not meet the requirements of this table and the check proceeds to the next one. exceptions the "apis" key is an array with a list of APIs available for this mod. if there is no api key, then all "apis" are available to the mod.. note that since the check is implemented in this way, it means that if there is an empty table in the mods table, the function will become available to all mods, as any description.json is able to meet completely missing requirements</li><li style="margin: 8px 0;">bext.modCheckCEx(mods:table, ...) - the name is short for "custom extended" and works the same way as bext.modCheckEx, but your feature will only be available to mods from your list, and will not be available to mods from the standard list</li><li style="margin: 8px 0;">bext.registerHandler_exit(function) - registers a callback function for an exit event from the world</li><li style="margin: 8px 0;">bext.registerHandler_tick(function) - registers the callback function for betterAPI tick events</li></ul>